webpackJsonp([2],{0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=a(1),s=n(r),o=a(153),i=n(o),l=a(607),u=n(l);window.sonarqube.appStarted.then(function(e){var t=document.querySelector(e.el);i["default"].render(s["default"].createElement(u["default"],{options:e}),t)})},237:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function s(e){return Array.isArray(e)?e:Array.from(e)}function o(){for(var e=arguments.length,t=Array(e),a=0;e>a;a++)t[a]=arguments[a];var n=t.join(".");return E[n]||n}function i(e){for(var t=E[e],a=arguments.length,n=Array(a>1?a-1:0),r=1;a>r;r++)n[r-1]=arguments[r];return t?n.reduce(function(e,t,a){return e.replace("{"+a+"}",t)},t):e+"."+n.join(".")}function l(){var e=window.navigator.languages?window.navigator.languages[0]:window.navigator.language,t=e.split("-"),a=s(t),n=a[0],o=a.slice(1);return[n.toLowerCase()].concat(r(o.map(function(e){return e.toUpperCase()}))).join("_")}function u(e){var t=window.baseUrl+"/api/l10n/index?"+(0,h.stringify)(e);return fetch(t,{credentials:"same-origin"}).then(function(e){if(304===e.status)return JSON.parse(localStorage.getItem("l10n.bundle"));if(200===e.status)return e.json();throw new Error(e.status)})}function c(){var e=l(),t=localStorage.getItem("l10n.locale");t!==e&&localStorage.removeItem("l10n.timestamp");var a=localStorage.getItem("l10n.timestamp"),n={locale:e};return null!==a&&(n.ts=a),u(n).then(function(t){var a=(0,g["default"])().format("YYYY-MM-DDTHH:mm:ssZZ");localStorage.setItem("l10n.timestamp",a),localStorage.setItem("l10n.locale",e),localStorage.setItem("l10n.bundle",JSON.stringify(t)),E=t})}function d(e){E=e}function f(){window.t=o,window.tp=i,window.requestMessages=c}function p(e){var t="dashboard."+e+".name",a=o(t);return a!==t?a:e}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=o,t.translateWithParameters=i,t.requestMessages=c,t.resetBundle=d,t.installGlobal=f,t.getLocalizedDashboardName=p;var h=a(238),m=a(241),g=n(m),C=a(230),E=(n(C),{})},238:function(e,t,a){"use strict";t.decode=t.parse=a(239),t.encode=t.stringify=a(240)},239:function(e,t){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var i=1e3;r&&"number"==typeof r.maxKeys&&(i=r.maxKeys);var l=e.length;i>0&&l>i&&(l=i);for(var u=0;l>u;++u){var c,d,f,p,h=e[u].replace(o,"%20"),m=h.indexOf(n);m>=0?(c=h.substr(0,m),d=h.substr(m+1)):(c=h,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),a(s,f)?Array.isArray(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s}},240:function(e,t){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var s=encodeURIComponent(a(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return s+encodeURIComponent(a(e))}).join(t):s+encodeURIComponent(a(e[r]))}).join(t):r?encodeURIComponent(a(r))+n+encodeURIComponent(a(e)):""}},336:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=n(r);t["default"]=s["default"].createClass({displayName:"qualifier-icon",render:function(){if(!this.props.qualifier)return null;var e="icon-qualifier-"+this.props.qualifier.toLowerCase();return s["default"].createElement("i",{className:e})}})},337:function(e,t){"use strict";function a(e){return window.baseUrl+"/dashboard?id="+encodeURIComponent(e)}function n(e,t){var a=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("|");return window.baseUrl+"/component_issues?id="+encodeURIComponent(e)+"#"+a}function r(e,t,a,n){var r=window.baseUrl+"/drilldown/measures?id="+encodeURIComponent(e)+"&metric="+encodeURIComponent(t);return a&&(r+="&period="+a),n&&(r+="&highlight="+encodeURIComponent(n)),r}function s(e,t,a){var n=window.baseUrl+"/dashboard?id="+encodeURIComponent(e)+"&did="+encodeURIComponent(t);return a&&(n+="&period="+a),n}function o(e,t){return window.baseUrl+"/overview"+t+"?id="+encodeURIComponent(e)}function i(e){return window.baseUrl+"/dashboards?resource="+encodeURIComponent(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentUrl=a,t.getComponentIssuesUrl=n,t.getComponentDrilldownUrl=r,t.getComponentDashboardUrl=s,t.getComponentFixedDashboardUrl=o,t.getComponentDashboardManagementUrl=i},350:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipsContainer=t.TooltipsMixin=void 0;var r=a(333),s=n(r),o=a(1),i=n(o),l=a(153),u=n(l);t.TooltipsMixin={componentDidMount:function(){this.initTooltips()},componentWillUpdate:function(){this.hideTooltips()},componentDidUpdate:function(){this.initTooltips()},componentWillUnmount:function(){this.destroyTooltips()},initTooltips:function(){s["default"].fn&&s["default"].fn.tooltip&&(0,s["default"])('[data-toggle="tooltip"]',u["default"].findDOMNode(this)).tooltip({container:"body",placement:"bottom",html:!0})},hideTooltips:function(){s["default"].fn&&s["default"].fn.tooltip&&(0,s["default"])('[data-toggle="tooltip"]',u["default"].findDOMNode(this)).tooltip("hide")},destroyTooltips:function(){s["default"].fn&&s["default"].fn.tooltip&&(0,s["default"])('[data-toggle="tooltip"]',u["default"].findDOMNode(this)).tooltip("destroy")}},t.TooltipsContainer=i["default"].createClass({displayName:"TooltipsContainer",componentDidMount:function(){this.initTooltips()},componentWillUpdate:function(){this.hideTooltips()},componentDidUpdate:function(){this.initTooltips()},componentWillUnmount:function(){this.destroyTooltips()},initTooltips:function(){if(s["default"].fn&&s["default"].fn.tooltip){var e=Object.assign({container:"body",placement:"bottom",html:!0},this.props.options);(0,s["default"])('[data-toggle="tooltip"]',u["default"].findDOMNode(this)).tooltip(e)}},hideTooltips:function(){s["default"].fn&&s["default"].fn.tooltip&&(0,s["default"])('[data-toggle="tooltip"]',u["default"].findDOMNode(this)).tooltip("hide")},destroyTooltips:function(){s["default"].fn&&s["default"].fn.tooltip&&(0,s["default"])('[data-toggle="tooltip"]',u["default"].findDOMNode(this)).tooltip("destroy")},render:function(){return this.props.children}})},366:function(e,t,a){var n;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e+=" "+a;else if(Array.isArray(a))e+=" "+r.apply(null,a);else if("object"===n)for(var o in a)s.call(a,o)&&a[o]&&(e+=" "+o)}}return e.substr(1)}var s={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(n=function(){return r}.call(t,a,t,e),!(void 0!==n&&(e.exports=n)))}()},607:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(230),o=n(s),i=a(241),l=n(i),u=a(1),c=n(u),d=a(608),f=a(609),p=a(610),h=n(p),m=a(611),g=n(m),C=a(613),E=n(C),v=a(615),b=n(v),S=a(617),T=n(S),y=200;t["default"]=c["default"].createClass({displayName:"main",getInitialState:function(){return{queue:[],activity:[],activityTotal:0,activityPage:1,statusFilter:f.STATUSES.ALL,currentsFilter:f.CURRENTS.ALL,dateFilter:f.DATE.ANY,searchQuery:""}},componentDidMount:function(){this.requestData(),this.requestData=o["default"].debounce(this.requestData,f.DEBOUNCE_DELAY)},getComponentFilter:function(){return this.props.options.component?{componentId:this.props.options.component.id}:{}},getDateFilter:function(){var e="YYYY-MM-DD",t={};switch(this.state.dateFilter){case f.DATE.TODAY:t.minSubmittedAt=(0,l["default"])().startOf("day").format(e);break;case f.DATE.CUSTOM:this.state.minDate&&(t.minSubmittedAt=(0,l["default"])(this.state.minDate).format(e)),this.state.maxDate&&(t.maxExecutedAt=(0,l["default"])(this.state.maxDate).format(e))}return t},getCurrentFilters:function(){var e={};return this.state.statusFilter!==f.STATUSES.ALL&&(e.status=this.state.statusFilter),this.state.currentsFilter!==f.STATUSES.ALL&&(e.onlyCurrents=!0),this.state.dateFilter!==f.DATE.ANY&&o["default"].extend(e,this.getDateFilter()),this.state.searchQuery&&o["default"].extend(e,{componentQuery:this.state.searchQuery}),e},requestData:function(){this.requestQueue(),this.requestActivity(),this.requestFailures()},requestQueue:function(){var e=this,t=this.getComponentFilter();Object.keys(this.getCurrentFilters()).length?this.setState({queue:[]}):(0,d.getQueue)(t).done(function(t){var a=t.tasks;e.setState({queue:e.orderTasks(a),pendingCount:e.countPending(a),inProgressDuration:e.getInProgressDuration(a)})})},requestActivity:function(){var e=this,t=o["default"].extend(this.getCurrentFilters(),this.getComponentFilter(),{p:this.state.activityPage,ps:y});(0,d.getActivity)(t).done(function(t){var a=1===t.paging.pageIndex?t.tasks:[].concat(e.state.activity,t.tasks);e.setState({activity:e.orderTasks(a),activityTotal:t.paging.total,activityPage:t.paging.pageIndex})})},requestFailures:function(){var e=this,t=o["default"].extend(this.getComponentFilter(),{ps:1,onlyCurrents:!0,status:f.STATUSES.FAILED});(0,d.getActivity)(t).done(function(t){e.setState({failuresCount:t.paging.total})})},countPending:function(e){return o["default"].where(e,{status:f.STATUSES.PENDING}).length},orderTasks:function(e){return o["default"].sortBy(e,function(e){return-(0,l["default"])(e.submittedAt).unix()})},getInProgressDuration:function(e){var t=o["default"].findWhere(e,{status:f.STATUSES.IN_PROGRESS});return t?t.executionTimeMs:null},onStatusChange:function(e){this.setState({statusFilter:e,activityPage:1},this.requestData)},onCurrentsChange:function(e){this.setState({currentsFilter:e,activityPage:1},this.requestData)},onDateChange:function(e,t,a){this.setState({dateFilter:e,minDate:t,maxDate:a,activityPage:1},this.requestData)},onSearch:function(e){this.setState({searchQuery:e},this.requestData)},loadMore:function(){this.setState({activityPage:this.state.activityPage+1},this.requestActivity)},showFailures:function(){this.setState({statusFilter:f.STATUSES.FAILED,currentsFilter:f.CURRENTS.ONLY_CURRENTS,activityPage:1},this.requestActivity)},onTaskCanceled:function(e){(0,d.cancelTask)(e.id).then(this.requestData)},cancelPending:function(){(0,d.cancelAllTasks)().then(this.requestData)},handleFilter:function(e){this.onSearch(e.componentKey)},render:function(){return c["default"].createElement("div",{className:"page"},c["default"].createElement(h["default"],null),c["default"].createElement(g["default"],r({},this.props,this.state,{cancelPending:this.cancelPending,showFailures:this.showFailures})),c["default"].createElement(E["default"],r({},this.props,this.state,{refresh:this.requestData,onStatusChange:this.onStatusChange,onCurrentsChange:this.onCurrentsChange,onDateChange:this.onDateChange,onSearch:this.onSearch})),c["default"].createElement(b["default"],r({},this.props,{tasks:[].concat(this.state.queue,this.state.activity),onTaskCanceled:this.onTaskCanceled,onFilter:this.handleFilter})),c["default"].createElement(T["default"],{count:this.state.queue.length+this.state.activity.length,total:this.state.queue.length+this.state.activityTotal,loadMore:this.loadMore}))}})},608:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=baseUrl+"/api/ce/queue";return d["default"].get(t,e)}function s(e){var t=baseUrl+"/api/ce/activity";return d["default"].get(t,e)}function o(e){var t=baseUrl+"/api/ce/task";return d["default"].get(t,{id:e})}function i(e){var t=baseUrl+"/api/ce/cancel";return d["default"].post(t,{id:e}).then(o.bind(null,e))}function l(){var e=baseUrl+"/api/ce/cancel_all";return d["default"].post(e)}function u(e){var t=baseUrl+"/api/ce/component",a={componentId:e};return new Promise(function(e){return d["default"].get(t,a).done(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueue=r,t.getActivity=s,t.getTask=o,t.cancelTask=i,t.cancelAllTasks=l,t.getTasksForComponent=u;var c=a(333),d=n(c)},609:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUSES={ALL:"__ALL__",PENDING:"PENDING",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELED:"CANCELED"},t.CURRENTS={ALL:"__ALL__",ONLY_CURRENTS:"CURRENTS"},t.DATE={ANY:"ANY",TODAY:"TODAY",CUSTOM:"CUSTOM"},t.DATE_FORMAT="YYYY-MM-DD",t.DEBOUNCE_DELAY=250},610:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=n(r),o=a(237);t["default"]=s["default"].createClass({displayName:"header",render:function(){return s["default"].createElement("header",{className:"page-header"},s["default"].createElement("h1",{className:"page-title"},(0,o.translate)("background_tasks.page")),s["default"].createElement("p",{className:"page-description"},(0,o.translate)("background_tasks.page.description")))}})},611:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=n(r),o=a(612),i=a(350),l=a(237);t["default"]=s["default"].createClass({displayName:"stats",mixins:[i.TooltipsMixin],onPendingCanceled:function(e){e.preventDefault(),this.props.cancelPending()},onFailuresClick:function(e){e.preventDefault(),this.props.showFailures()},renderInProgressDuration:function(){return this.props.inProgressDuration?s["default"].createElement("span",{className:"huge-spacer-left",title:(0,l.translate)("background_tasks.in_progress_duration"),"data-toggle":"tooltip"},s["default"].createElement("i",{className:"spinner spacer-right",style:{verticalAlign:"text-top"}}),s["default"].createElement("span",{ref:"inProgressDuration",className:"emphasised-measure"},(0,o.formatDuration)(this.props.inProgressDuration))):null},renderPending:function(){return null==this.props.pendingCount?null:this.props.pendingCount>0?s["default"].createElement("span",null,s["default"].createElement("span",{ref:"pendingCount",className:"emphasised-measure"},this.props.pendingCount)," ",(0,l.translate)("background_tasks.pending"),s["default"].createElement("a",{ref:"cancelPending",onClick:this.onPendingCanceled,className:"icon-delete spacer-left",title:(0,l.translate)("background_tasks.cancel_all_tasks"),"data-toggle":"tooltip",href:"#"})):s["default"].createElement("span",null,s["default"].createElement("span",{ref:"pendingCount",className:"emphasised-measure"},this.props.pendingCount)," ",(0,l.translate)("background_tasks.pending"))},renderFailures:function(){return null==this.props.failuresCount?null:this.props.options&&this.props.options.component?null:this.props.failuresCount>0?s["default"].createElement("span",null,s["default"].createElement("a",{ref:"failureCount",onClick:this.onFailuresClick,className:"emphasised-measure","data-toggle":"tooltip",title:"Count of projects where processing of most recent analysis report failed",href:"#"},this.props.failuresCount)," ",(0,l.translate)("background_tasks.failures")):s["default"].createElement("span",null,s["default"].createElement("span",{ref:"failureCount",className:"emphasised-measure","data-toggle":"tooltip",title:"Count of projects where processing of most recent analysis report failed"},this.props.failuresCount)," ",(0,l.translate)("background_tasks.failures"))},render:function(){return s["default"].createElement("section",{className:"big-spacer-top big-spacer-bottom"},s["default"].createElement("span",null,this.renderPending()),s["default"].createElement("span",{className:"huge-spacer-left"},this.renderFailures()),this.renderInProgressDuration())}})},612:function(e,t){"use strict";function a(e,t){return""+e+t}function n(e){if(!e)return"";if(e>=s){var t=Math.round(e/s);return a(t,"min")}if(e>=r){var n=Math.round(e/r);return a(n,"s")}return a(e,"ms")}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDuration=n;var r=1e3,s=60*r},613:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(333),s=n(r),o=a(241),i=n(o),l=a(1),u=n(l),c=a(614),d=n(c),f=a(609),p=a(237);t["default"]=u["default"].createClass({displayName:"search",componentDidMount:function(){this.attachDatePicker()},componentDidUpdate:function(){this.attachDatePicker()},getCurrentsOptions:function(){return[{value:f.CURRENTS.ALL,label:(0,p.translate)("background_tasks.currents_filter.ALL")},{value:f.CURRENTS.ONLY_CURRENTS,label:(0,p.translate)("background_tasks.currents_filter.ONLY_CURRENTS")}]},getStatusOptions:function(){return[{value:f.STATUSES.ALL,label:(0,p.translate)("background_task.status.ALL")},{value:f.STATUSES.SUCCESS,label:(0,p.translate)("background_task.status.SUCCESS")},{value:f.STATUSES.FAILED,label:(0,p.translate)("background_task.status.FAILED")},{value:f.STATUSES.CANCELED,label:(0,p.translate)("background_task.status.CANCELED")}]},getDateOptions:function(){return[{value:f.DATE.ANY,label:(0,p.translate)("background_tasks.date_filter.ALL")},{value:f.DATE.TODAY,label:(0,p.translate)("background_tasks.date_filter.TODAY")},{value:f.DATE.CUSTOM,label:(0,p.translate)("background_tasks.date_filter.CUSTOM")}]},onDateChange:function(e){if(e===f.DATE.CUSTOM){var t=this.refs.minDate.value,a=this.refs.maxDate.value,n=(0,i["default"])(t,f.DATE_FORMAT,!0),r=(0,i["default"])(a,f.DATE_FORMAT,!0);this.props.onDateChange(e,n.isValid()?n:null,r.isValid()?r:null)}else this.props.onDateChange(e)},onDateInputChange:function(){this.onDateChange(f.DATE.CUSTOM)},attachDatePicker:function(){var e={dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,onSelect:this.onDateInputChange};s["default"].fn&&s["default"].fn.datepicker&&((0,s["default"])(this.refs.minDate).datepicker(e),(0,s["default"])(this.refs.maxDate).datepicker(e))},renderCustomDateInput:function(){var e=this.props.dateFilter===f.DATE.CUSTOM,t=e?"spacer-top":"spacer-top hidden";return u["default"].createElement("div",{className:t},"from ",u["default"].createElement("input",{onChange:this.onDateInputChange,ref:"minDate",type:"text"})," to ",u["default"].createElement("input",{onChange:this.onDateInputChange,ref:"maxDate",type:"text"}))},onSearchFormSubmit:function(e){e.preventDefault(),this.onSearch()},onSearch:function(){var e=this.refs.searchInput,t=e.value;this.props.onSearch(t)},renderSearchBox:function(){return this.props.options&&this.props.options.component?null:u["default"].createElement("form",{onSubmit:this.onSearchFormSubmit,className:"search-box"},u["default"].createElement("button",{className:"search-box-submit button-clean"},u["default"].createElement("i",{className:"icon-search"})),u["default"].createElement("input",{onChange:this.onSearch,value:this.props.searchQuery,ref:"searchInput",className:"search-box-input",type:"search",placeholder:"Search"}))},refresh:function(e){e.preventDefault(),this.props.refresh();var t=e.target;t.disabled=!0,setTimeout(function(){return t.disabled=!1},500)},render:function(){return u["default"].createElement("section",{className:"big-spacer-top big-spacer-bottom"},u["default"].createElement("ul",{className:"list-inline"},u["default"].createElement("li",null,u["default"].createElement(d["default"],{options:this.getStatusOptions(),value:this.props.statusFilter,name:"background-task-status",onCheck:this.props.onStatusChange})),u["default"].createElement("li",null,u["default"].createElement(d["default"],{options:this.getCurrentsOptions(),value:this.props.currentsFilter,name:"background-task-currents",onCheck:this.props.onCurrentsChange})),u["default"].createElement("li",null,u["default"].createElement(d["default"],{options:this.getDateOptions(),value:this.props.dateFilter,name:"background-task-date",onCheck:this.onDateChange}),this.renderCustomDateInput()),u["default"].createElement("li",null,this.renderSearchBox()),u["default"].createElement("li",{className:"pull-right"},u["default"].createElement("button",{onClick:this.refresh,ref:"reloadButton"},(0,p.translate)("reload")))))}})},614:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=n(r);t["default"]=s["default"].createClass({displayName:"radio-toggle",propTypes:{value:s["default"].PropTypes.string,options:s["default"].PropTypes.array.isRequired,name:s["default"].PropTypes.string.isRequired,onCheck:s["default"].PropTypes.func.isRequired},getDefaultProps:function(){return{disabled:!1,value:null}},onChange:function(e){var t=e.currentTarget.value;this.props.onCheck(t)},renderOption:function(e){var t=e.value===this.props.value,a=this.props.name+"__"+e.value;return s["default"].createElement("li",{key:e.value},s["default"].createElement("input",{onChange:this.onChange,type:"radio",name:this.props.name,value:e.value,id:a,checked:t,disabled:this.props.disabled}),s["default"].createElement("label",{htmlFor:a},e.label))},render:function(){var e=this.props.options.map(this.renderOption);return s["default"].createElement("ul",{className:"radio-toggle"},e)}})},615:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(241),s=n(r),o=a(1),i=n(o),l=a(337),u=a(336),c=n(u),d=a(616),f=n(d),p=a(609),h=a(612),m=a(350),g=a(237);t["default"]=i["default"].createClass({displayName:"tasks",propTypes:{tasks:i["default"].PropTypes.arrayOf(i["default"].PropTypes.object).isRequired},mixins:[m.TooltipsMixin],onTaskCanceled:function(e,t){t.preventDefault(),this.props.onTaskCanceled(e)},handleFilter:function(e,t){t.preventDefault(),this.props.onFilter(e)},renderTaskStatus:function(e){var t=void 0;switch(e.status){case p.STATUSES.PENDING:t=i["default"].createElement(f["default"],null);break;case p.STATUSES.IN_PROGRESS:t=i["default"].createElement("i",{className:"spinner"});break;case p.STATUSES.SUCCESS:t=i["default"].createElement("span",{className:"badge badge-success"},(0,g.translate)("background_task.status.SUCCESS"));break;case p.STATUSES.FAILED:t=i["default"].createElement("span",{className:"badge badge-danger"},(0,g.translate)("background_task.status.FAILED"));break;case p.STATUSES.CANCELED:t=i["default"].createElement("span",{className:"badge badge-muted"},(0,g.translate)("background_task.status.CANCELED"));break;default:t=""}return i["default"].createElement("td",{className:"thin spacer-right"},t)},renderTaskComponent:function(e){return e.componentKey?i["default"].createElement("td",null,i["default"].createElement("a",{className:"link-with-icon",href:(0,l.getComponentUrl)(e.componentKey)},i["default"].createElement("span",{className:"little-spacer-right"},i["default"].createElement(c["default"],{qualifier:e.componentQualifier})),i["default"].createElement("span",null,e.componentName))):i["default"].createElement("td",null,i["default"].createElement("span",{className:"note"},e.id))},renderTaskDate:function(e,t){var a=arguments.length<=2||void 0===arguments[2]?"LLL":arguments[2],n=e[t];return i["default"].createElement("td",{className:"thin nowrap text-right"},n?(0,s["default"])(n).format(a):"")},renderTaskDay:function(e,t){var a=!t||this.isAnotherDay(e.submittedAt,t.submittedAt);return i["default"].createElement("td",{className:"thin nowrap text-right"},a?(0,s["default"])(e.submittedAt).format("LL"):"")},renderTaskExecutionTime:function(e){return i["default"].createElement("td",{className:"thin nowrap text-right"},(0,h.formatDuration)(e.executionTimeMs))},isAnotherDay:function(e,t){return!(0,s["default"])(e).isSame((0,s["default"])(t),"day")},renderFilter:function(e){return this.props.options&&this.props.options.component?null:i["default"].createElement("td",{className:"thin nowrap"},i["default"].createElement("a",{onClick:this.handleFilter.bind(this,e),className:"icon-filter icon-half-transparent spacer-left",href:"#",title:'Show only "'+e.componentName+'" tasks',"data-toggle":"tooltip"}))},renderCancelButton:function(e){return e.status===p.STATUSES.PENDING?i["default"].createElement("a",{onClick:this.onTaskCanceled.bind(this,e),className:"icon-delete",title:(0,g.translate)("background_tasks.cancel_task"),"data-toggle":"tooltip",href:"#"}):null},renderLogsLink:function(e){if(e.logs){var t=window.baseUrl+"/api/ce/logs?taskId="+e.id;return i["default"].createElement("a",{target:"_blank",href:t},(0,g.translate)("background_tasks.logs"))}return null},renderTask:function(e,t,a){var n=t>0?a[t-1]:null;return i["default"].createElement("tr",{key:e.id},this.renderTaskStatus(e),this.renderTaskComponent(e),this.renderTaskDay(e,n),this.renderTaskDate(e,"submittedAt","LTS"),this.renderTaskDate(e,"startedAt","LTS"),this.renderTaskDate(e,"executedAt","LTS"),this.renderTaskExecutionTime(e),i["default"].createElement("td",{className:"thin nowrap text-right"},this.renderLogsLink(e),this.renderCancelButton(e)),this.renderFilter(e))},render:function(){if(!this.props.tasks.length)return null;var e=this.props.tasks.map(this.renderTask);return i["default"].createElement("table",{className:"data zebra zebra-hover background-tasks"},i["default"].createElement("thead",null,i["default"].createElement("tr",null,i["default"].createElement("th",null," "),i["default"].createElement("th",null," "),i["default"].createElement("th",null," "),i["default"].createElement("th",null,(0,g.translate)("background_tasks.table.submitted")),i["default"].createElement("th",null,(0,g.translate)("background_tasks.table.started")),i["default"].createElement("th",null,(0,g.translate)("background_tasks.table.finished")),i["default"].createElement("th",null,(0,g.translate)("background_tasks.table.duration")),i["default"].createElement("th",null," "))),i["default"].createElement("tbody",null,e))}})},616:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=n(r);t["default"]=s["default"].createClass({displayName:"pending-icon",render:function(){return s["default"].createElement("svg",{width:"16",height:"16",className:"icon-pending"},s["default"].createElement("g",{transform:"matrix(0.0364583,0,0,0.0364583,1,-0.166667)"},s["default"].createElement("path",{d:"M224,136L224,248C224,250.333 223.25,252.25 221.75,253.75C220.25,255.25 218.333,256 216,256L136,256C133.667,256 131.75,255.25 130.25,253.75C128.75,252.25 128,250.333 128,248L128,232C128,229.667 128.75,227.75 130.25,226.25C131.75,224.75 133.667,224 136,224L192,224L192,136C192,133.667 192.75,131.75 194.25,130.25C195.75,128.75 197.667,128 200,128L216,128C218.333,128 220.25,128.75 221.75,130.25C223.25,131.75 224,133.667 224,136ZM328,224C328,199.333 321.917,176.583 309.75,155.75C297.583,134.917 281.083,118.417 260.25,106.25C239.417,94.083 216.667,88 192,88C167.333,88 144.583,94.083 123.75,106.25C102.917,118.417 86.417,134.917 74.25,155.75C62.083,176.583 56,199.333 56,224C56,248.667 62.083,271.417 74.25,292.25C86.417,313.083 102.917,329.583 123.75,341.75C144.583,353.917 167.333,360 192,360C216.667,360 239.417,353.917 260.25,341.75C281.083,329.583 297.583,313.083 309.75,292.25C321.917,271.417 328,248.667 328,224ZM384,224C384,258.833 375.417,290.958 358.25,320.375C341.083,349.792 317.792,373.083 288.375,390.25C258.958,407.417 226.833,416 192,416C157.167,416 125.042,407.417 95.625,390.25C66.208,373.083 42.917,349.792 25.75,320.375C8.583,290.958 0,258.833 0,224C0,189.167 8.583,157.042 25.75,127.625C42.917,98.208 66.208,74.917 95.625,57.75C125.042,40.583 157.167,32 192,32C226.833,32 258.958,40.583 288.375,57.75C317.792,74.917 341.083,98.208 358.25,127.625C375.417,157.042 384,189.167 384,224Z"})))}})},617:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(366),s=n(r),o=a(1),i=n(o),l=a(237);t["default"]=i["default"].createClass({displayName:"list-footer",propTypes:{count:i["default"].PropTypes.number.isRequired,total:i["default"].PropTypes.number.isRequired,loadMore:i["default"].PropTypes.func,ready:i["default"].PropTypes.bool},getDefaultProps:function(){return{ready:!0}},canLoadMore:function(){return"function"==typeof this.props.loadMore},handleLoadMore:function(e){e.preventDefault(),this.canLoadMore()&&this.props.loadMore()},renderLoading:function(){return i["default"].createElement("footer",{className:"spacer-top note text-center"},(0,l.translate)("loading"))},render:function(){var e=this.props.total>this.props.count,t=i["default"].createElement("a",{onClick:this.handleLoadMore,className:"spacer-left",href:"#"},"show more"),a=(0,s["default"])("spacer-top note text-center",{"new-loading":!this.props.ready});return i["default"].createElement("footer",{className:a},this.props.count,"/",this.props.total," shown",this.canLoadMore()&&e?t:null)}})}});